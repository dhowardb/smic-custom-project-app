"use strict";                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
sap.ui.define(["sap/m/MessageToast"], function (MessageToast) {                                                                                                                                                                                                
  "use strict";                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
  function handleEditPopOver(event, pageContext) {                                                                                                                                                                                                             
    var source = event.getSource();                                                                                                                                                                                                                            
    var footer = source.getParent();                                                                                                                                                                                                                           
    var popOver = footer.getParent();                                                                                                                                                                                                                          
    if (popOver.isOpen()) {                                                                                                                                                                                                                                    
      popOver.close();                                                                                                                                                                                                                                         
      var currentBindingContext = popOver.getBindingContext();                                                                                                                                                                                                 
      var UIElements = this.loadFragment({                                                                                                                                                                                                                     
        name: 'projectsdemoappv2.projectsdemoappv2.ext.fragment.PlanningCalendar.views.CalendarModify',                                                                                                                                                        
        controller: this,                                                                                                                                                                                                                                      
        id: '',                                                                                                                                                                                                                                                
        contextPath: '',                                                                                                                                                                                                                                       
        // initialBindingContext: pageContext,                                                                                                                                                                                                                 
        initialBindingContext: currentBindingContext                                                                                                                                                                                                           
      });                                                                                                                                                                                                                                                      
      UIElements.then(function (UIElement) {                                                                                                                                                                                                                   
        var formDialog = UIElement;                                                                                                                                                                                                                            
        formDialog.open();                                                                                                                                                                                                                                     
        // formDialog.setBindingContext(currentBindingContext).open();                                                                                                                                                                                         
      });                                                                                                                                                                                                                                                      
    }                                                                                                                                                                                                                                                          
  }                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
  // export function handleCancelPopOver(                                                                                                                                                                                                                      
  // 	this: ExtensionAPI,                                                                                                                                                                                                                                      
  // 	event: UI5Event,                                                                                                                                                                                                                                         
  // 	pageContext: Context                                                                                                                                                                                                                                     
  // ): void {                                                                                                                                                                                                                                                 
  // 	const source = event.getSource() as Button;                                                                                                                                                                                                              
  // 	const footer = source.getParent() as UI5Element;                                                                                                                                                                                                         
  // 	const popOver = footer.getParent() as Popover;                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
  // 	if (popOver.isOpen()) {                                                                                                                                                                                                                                  
  // 		popOver.close();                                                                                                                                                                                                                                        
  // 	}                                                                                                                                                                                                                                                        
  // }                                                                                                                                                                                                                                                         
  var handleDeleteProject = function handleDeleteProject(event, pageContext) {                                                                                                                                                                                 
    try {                                                                                                                                                                                                                                                      
      var responsivePopOver = event.getSource().getParent().getParent();                                                                                                                                                                                       
      var currentBindingContext = responsivePopOver.getBindingContext();                                                                                                                                                                                       
      return Promise.resolve(currentBindingContext["delete"]().then(function () {                                                                                                                                                                              
        MessageToast.show('Project Succesfully Deleted!');                                                                                                                                                                                                     
      })).then(function () {});                                                                                                                                                                                                                                
    } catch (e) {                                                                                                                                                                                                                                              
      return Promise.reject(e);                                                                                                                                                                                                                                
    }                                                                                                                                                                                                                                                          
  };                                                                                                                                                                                                                                                           
  var __exports = {                                                                                                                                                                                                                                            
    __esModule: true                                                                                                                                                                                                                                           
  };                                                                                                                                                                                                                                                           
  __exports.handleEditPopOver = handleEditPopOver;                                                                                                                                                                                                             
  __exports.handleDeleteProject = handleDeleteProject;                                                                                                                                                                                                         
  return __exports;                                                                                                                                                                                                                                            
});                                                                                                                                                                                                                                                            